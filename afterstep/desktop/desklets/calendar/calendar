#!/bin/bash

while true
do
    echo "<composite>"
    echo "<solid width=\"60\" height=\"60\"color=\"#00000000\"/>"
    echo "<set var=\"my_y\" val=\"0\" />"
 cal | sed '/[0-9A-Za-z]/s!.*!<scale width="254" y="$my_y"><text font="DefaultBoldOblique.ttf" fgcolor=#FFFFFF align=center y=$my_y point=24>&</text></scale><set var="my_y" val="$my_y + 32" />!'
    weekday=`date +%u`
    temp1=`date +%e`
    weekofmonth=`echo "(((($temp1 - $weekday)+7)/7)*32)"`
    echo "<solid color=\"#FF0000\" opacity=\"70\" x=\"$weekday-1*254/7\" y=\"54+$weekofmonth\" width=\"254/7\" height=\"32\"/>"
    echo "</composite>"
    sleep 5
done